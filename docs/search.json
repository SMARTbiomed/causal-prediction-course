[
  {
    "objectID": "resources.html",
    "href": "resources.html",
    "title": "Resources and references",
    "section": "",
    "text": "References\n\nAmsterdam, Wouter AC van, Nan van Geloven, Jesse H Krijthe, Rajesh Ranganath, and Giovanni Ciná. 2025. “When Accurate Prediction Models Yield Harmful Self-Fulfilling Prophecies.” Patterns 6 (4).\n\n\nAnkan, Ankur, and Johannes Textor. 2025. “Expert-in-the-Loop Causal Discovery: Iterative Model Refinement Using Expert Knowledge.” In The 41st Conference on Uncertainty in Artificial Intelligence.\n\n\nBoyer, Christopher B., Issa J. Dahabreh, and Jon A. Steingrimsson. 2024. “Estimating and Evaluating Counterfactual Prediction Models.” https://arxiv.org/abs/2308.13026.\n\n\nCoston, Amanda, Alan Mishler, Edward H Kennedy, and Alexandra Chouldechova. 2020. “Counterfactual Risk Assessments, Evaluation, and Fairness.” In Proceedings of the 2020 Conference on Fairness, Accountability, and Transparency, 582–93.\n\n\nCowley, Laura E, Daniel M Farewell, Sabine Maguire, and Alison M Kemp. 2019. “Methodological Standards for the Development and Evaluation of Clinical Prediction Rules: A Review of the Literature.” Diagnostic and Prognostic Research 3 (1): 16.\n\n\nDamen, Johanna AAG, Lotty Hooft, Ewoud Schuit, Thomas PA Debray, Gary S Collins, Ioanna Tzoulaki, Camille M Lassale, et al. 2016. “Prediction Models for Cardiovascular Disease Risk in the General Population: Systematic Review.” British Medical Journal 353.\n\n\nEfthimiou, Orestis, Michael Seo, Konstantina Chalkou, Thomas Debray, Matthias Egger, and Georgia Salanti. 2024. “Developing Clinical Prediction Models: A Step-by-Step Guide.” Bmj 386.\n\n\nGeloven, Nan van, Ruth H Keogh, Wouter van Amsterdam, Giovanni Cinà, Jesse H Krijthe, Niels Peek, Kim Luijken, et al. 2024. “The Risks of Risk Assessment: Causal Blind Spots When Using Prediction Models for Treatment Decisions.” arXiv Preprint arXiv:2402.17366.\n\n\nGeloven, Nan van, Sonja A Swanson, Chava L Ramspek, Kim Luijken, Merel van Diepen, Tim P Morris, Rolf HH Groenwold, Hans C van Houwelingen, Hein Putter, and Saskia le Cessie. 2020. “Prediction Meets Causal Inference: The Role of Treatment in Clinical Prediction Models.” European Journal of Epidemiology 35: 619–30.\n\n\nGerds, Thomas A, Tianxi Cai, and Martin Schumacher. 2008. “The Performance of Risk Prediction Models.” Biometrical Journal: Journal of Mathematical Methods in Biosciences 50 (4): 457–79.\n\n\nHippisley-Cox, Julia, Carol Coupland, Yana Vinogradova, John Robson, and P Brindle. 2008. “Performance of the QRISK Cardiovascular Risk Prediction Algorithm in an Independent UK Sample of Patients from General Practice: A Validation Study.” Heart 94 (1): 34–39.\n\n\nKeogh, Ruth H, and Nan Van Geloven. 2024. “Prediction Under Interventions: Evaluation of Counterfactual Performance Using Longitudinal Observational Data.” Epidemiology 35 (3): 329–39.\n\n\nKullo, Iftikhar J, Hayan Jouni, Erin E Austin, Sherry-Ann Brown, Teresa M Kruisselbrink, Iyad N Isseh, Raad A Haddad, et al. 2016. “Incorporating a Genetic Risk Score into Coronary Heart Disease Risk Estimates: Effect on Low-Density Lipoprotein Cholesterol Levels (the MI-GENES Clinical Trial).” Circulation 133 (12): 1181–88.\n\n\nLin, Lijing, Matthew Sperrin, David A Jenkins, Glen P Martin, and Niels Peek. 2021. “A Scoping Review of Causal Methods Enabling Predictions Under Hypothetical Interventions.” Diagnostic and Prognostic Research 5: 1–16.\n\n\nPearl, J. 2009. Causality: Models, Reasoning, and Inference. 2nd ed. New York: Cambridge University Press.\n\n\nPoinsot, Audrey, Panayiotis Panayiotou, Alessandro Leite, Nicolas CHESNEAU, Özgür Şimşek, and Marc Schoenauer. 2025. “Position: Causal Machine Learning Requires Rigorous Synthetic Experiments for Broader Adoption.” In Forty-Second International Conference on Machine Learning Position Paper Track. https://openreview.net/forum?id=Nr2ulBN50q.\n\n\nSachs, Michael C., Arvid Sjölander, and Erin E. Gabriel. 2020. “Aim for Clinical Utility, Not Just Predictive Accuracy.” Epidemiology 31 (3): 359–64.\n\n\nSilarova, Barbora, Stephen Sharp, Juliet A Usher-Smith, Joanne Lucas, Rupert A Payne, Guy Shefer, Carmel Moore, et al. 2019. “Effect of Communicating Phenotypic and Genetic Risk of Coronary Heart Disease Alongside Web-Based Lifestyle Advice: The INFORM Randomised Controlled Trial.” Heart 105 (13): 982–89.\n\n\nWilkinson, Jack, Kellyn F Arnold, Eleanor J Murray, Maarten van Smeden, Kareem Carr, Rachel Sippy, Marc de Kamps, et al. 2020. “Time to Reality Check the Promises of Machine Learning-Powered Precision Medicine.” The Lancet Digital Health 2 (12): e677–80."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Home",
    "section": "",
    "text": "Course description\n\n\nCode of conduct\n\n\nCourse materials\n\n\nReferences and resources"
  },
  {
    "objectID": "data/exercises/day1-morning.html",
    "href": "data/exercises/day1-morning.html",
    "title": "Day 1 Morning Exercise",
    "section": "",
    "text": "Consider the CVD risk prediction tool for type 1 diabetes (Steno Diabetes Center Copenhagen): https://steno.shinyapps.io/T1RiskEngine/ \n\nAnswer the following questions:\n\nWho is eligible to use this calculator?\nAt what occasion can people use this calculator (i.e., what is time zero)?\nIn what direction does the 5-year risk change when you change any of the predictor variables keeping the other predictor variables at a fixed value?\nWhat other risk predictor variables does the Framingham CVD risk calculator use? https://static.heart.org/riskcalc/app/index.html\n\n\n\nThink about and discuss the following with your nearest neighbors:\n\nWhat possible applications does this medical risk prediction model have?\nWhich of the risk factors may change over time?\nHow old (relative to time zero) are the measurements of these risk factors allowed to be?\nWhich of the risk factors are modifiable?\nCorrespondingly what would be possible interventions?\nDecision making (for versus against an intervention) could be based on comparing the predicted 5-year risk to a fixed threshold, e.g., 10%. How would one incorporate lower and upper limits for the predicted risks to guide a person’s decision?"
  },
  {
    "objectID": "conduct.html",
    "href": "conduct.html",
    "title": "Code of Conduct",
    "section": "",
    "text": "We are committed to providing a safe, inclusive, welcoming, and harassment-free experience for everyone.\nWe try to cultivate a community with shared values, where people are comfortable exploring ideas, asking questions, and saying things like “I don’t understand” or “Why”. Assume competence in the people you interact with. There are no stupid questions.\nBe considerate in speech and actions, and actively seek to acknowledge and respect the boundaries of people who participate in our activities.\nTake care of each other. Alert Michael Sachs if you notice a dangerous situation, someone in distress, or a potential violation of this Code of Conduct, even if it seems inconsequential. If Michael is the subject of the Alert or has a conflict of interest, please inform Naomi Wray, the director of the Pioneer centre.\n\nExpected Behavior\nAll participants are expected to behave in accordance with professional standards, with both this Code of Conduct as well as their respective employer’s policies governing appropriate workplace behavior, and all applicable laws.\nWe’re committed to providing welcome environments where people behave according to professional standards. We expect everyone to contribute to a welcoming, civil, safe, and tolerant environment.\nExamples of encouraged behavior that contributes to a positive environment include:\n\nUsing welcoming and inclusive language\nBeing respectful of differing viewpoints and experiences\nGracefully accepting constructive criticism\nFocusing on what is best for everyone in the group\nShowing empathy towards other participants\n\n\n\nUnacceptable Behavior\nWe do not tolerate harassment in any form. Adherence to our Code of Conduct requires refraining from demeaning, discriminatory, or harassing behavior and speech including, but not limited to:\n\noffensive comments related to gender, gender identity and expression, age, sexual orientation, disability, physical appearance, body size, race, ethnicity, religion (or lack thereof), nationality, native language, or technology choices\nunwelcome comments regarding a person’s lifestyle choices and practices, including those related to food, health, parenting, drugs, or career stage\nsustained or willful disruption of discussions, talks, or other events, including online discussion.\ndeliberate intimidation\ncontinued one-on-one communication after requests to cease\nunwanted photography or recording, including logging online activity for harassment purposes\npattern of inappropriate social contact, such as requesting/assuming inappropriate levels of intimacy with others\ninappropriate physical contact without consent or after a request to stop. In virtual settings, inappropriate simulated physical contact used without consent, such as textual descriptions like “hug” or “backrub” or emojis representing such contacts.\nstalking or following behavior, including in virtual settings, such as persistent unwanted direct messages, sending unwanted pictures or malware links, or logging online activity for harassment purposes.\nthreats of violence or incitement of violence towards any individual, including encouraging a person to commit suicide or to engage in self-harm\nuse of sexual or discriminatory imagery, comments, or jokes\nunwelcome sexual attention, which can include inappropriate questions of a sexual nature, asking for sexual favors, or repeatedly asking for dates or contact information.\ndeliberate “outing” of any aspect of a person’s identity without their consent except as necessary to protect vulnerable people from intentional abuse\ndeliberate misgendering or use of “dead” or rejected names\nnon-consensual publication of non-harassing private communication, including screenshots of private discussion channels or direct messages.\n\n\n\nConsequences of Code of Conduct Violations\nParticipants who are asked to stop any inappropriate behavior are expected to comply immediately. This applies to any events and platforms, either online or in-person. If a participant engages in behavior that violates this code of conduct, the leadership may warn the offender, ask them to leave the group or meeting, or engage higher-level leadership and/or law enforcement to investigate the Code of Conduct violation and impose appropriate sanctions.\nPotential responses include:\n\nban from the meetings and virtual spaces in order to stop the inappropriate behavior;\na formal warning to stop the harassing behavior;\nexpulsion from the group;\ncancellation or early termination of employment or other contributions to the group.\n\n\n\nReporting Guidelines\nIf you experience or witness unacceptable behavior, or have any other concerns, please submit a report to the software coordinator Michael Sachs as soon as possible either by email or by contacting him directly. If Michael has a conflict of interest with a report either directly or via a close personal relationship, an alternative point of contact is Naomi Wray, the director of the centre. In that case, Michael will be recused and will not have access to the content or process of the report followup.\nIf you are planning to attend an upcoming event or join an online channel, and have concerns regarding another individual who may be present, please submit a report as described above. We will work with you to take precautions to ensure your comfort and safety. These precautions may include: providing an escort, preparing onsite event staff, and/or providing on-site contact cell phone numbers for immediate contact. In some cases, we may take action to prevent a harasser from participating in the event.\n\n\nCredits\nThis Code of Conduct has been influenced by and adapted from the rOpenSci Code of Conduct (https://ropensci.org/code-of-conduct/)."
  },
  {
    "objectID": "data/exercises/day1-afternoon.html",
    "href": "data/exercises/day1-afternoon.html",
    "title": "Practical day 1 afternoon",
    "section": "",
    "text": "Learning objectives\n\nRead about the data, read it into R, and examine the data and benchmark models\nMake your own prediction model using the training dataset\nProvide an estimate of some metric to quantify how well your model performs using test data or cross validation\nPredict the probability of the outcome in the validation set and send the predictions to the teachers.\n\n\n\nData description\nWe have synthesized data alike the training data behind the Steno type 1 risk engine. The data are not real data but obtained by computer simulation for the sole purpose of illustrating the methods discussed during the workshop. Since we have simulated the data we have removed the obstacles from censoring and provide a binary outcome variable which indicates if CVD occured before the 5 years horizon where no occurrence means either death without CVD or alive without CVD.\n\nStudy population: Adults with type 1 diabetes. It is recommended for patients to come for regular follow-up visits every 4 months. These data represent information available from the past year at the time that the predictions are to be made (time 0), which includes some measurements at 2 time points. The variable pid is a unique patient identifier.\nTime zero: Date of a screening visit at diabetes center\nOutcome: Cardiovascular disease within 5 years of time 0. The is coded as 0 for no, 1 for yes, in the variable cvd5year\nPredictors:\n\nage: Age in years at the time 0\nsex_male: Binary indicator of male sex (0 = female, 1 = male)\ndiabetes_duration: Time in years since diagnosis of type 1 diabetes\nsmoking: Binary indicator of current smoking status (0 = nonsmoker, 1 = smoker)\nmotion: Binary indicator of regular physical activity (0 = sedentary, 1 = some moderate physical activity)\nHBA1C_0, HBA1C_1: Glycated hemoglobin, also called hemoglobin A1C value at two time points in mmol/mol. Smaller values indicate better glycemic control.\nurine_albumin_0, urine_albumin_1: The urine albumin to creatinine ratio, in mg/g. A larger relative concentration of albumin in the urine is an indicator of poor kidney function\nLDL_0, LDL_1: Low-density lipoprotein measurement in serum, in mmol/L.\nSBP_0, SBP_1: Systolic blood pressure in mmHg\neGFR_0, eGFR_1: Estimated glomerular filtration rate, in \\(mL/min/1.73m^2\\). An estimate of kidney function, larger values means better kidney function\nstatin: indicator of starting statin use between times 0 and 1 (0 = not on statins, 1 = started on statins)\n\n\n\n\nExercises\n\nLoad the R package riskRegression\n\n\nlibrary(riskRegression) \n\n\nRead the train and the test data into R\n\n\ntrain &lt;- readRDS(url(\"https://smartbiomed.github.io/causal-prediction-workshop/data/exercises/data/type1-diabetes-train.rds\"))\ntest &lt;- readRDS(url(\"https://smartbiomed.github.io/causal-prediction-workshop/data/exercises/data/type1-diabetes-test.rds\"))\n\n\nWhat is the prevalence of CVD 5 years after time zero?\n\n\n100*mean(train$cvd_5year) \n\n\nNote that the null model ignores the covariates and predicts the same risk to everyone. It can be obtained with the glm function as follows:\n\n\nnull_model &lt;- glm(cvd_5year~1,data = train, family = \"binomial\")\npredictRisk(null_model,newdata = test) \n\n\nFit a bench mark model using logistic regression including additive effects of sex, age and diabetes duration\n\n\nbench_model &lt;- glm(cvd_5year~sex_male + age + diabetes_duration,data = train, family = \"binomial\") \n\n\nFit a model which resembles the formula of the Steno 1 risk engine using logistic regression\n\n\nsteno_model &lt;- glm(cvd_5year~sex_male + age + diabetes_duration + smoking + motion +\n                  HBA1C_time1 + urine_albumin_time1 + LDL_time1 + SBP_time1 + eGFR_time1,\n                  data = train, family = \"binomial\") \n\n\nDoes the Steno model outperform the benchmark model in the train data? Use 10-fold cross-validation\n\n\nx &lt;- riskRegression::Score(list(\"Benchmark model\" = bench_model,\n                                \"Steno model\" = steno_model),\n                           data = train,\n                           seed = 8,\n                           null.model = TRUE,\n                           formula = cvd_5year~1,\n                           split.method = \"cv10\",\n                           summary = \"risk\",\n                           plots = c(\"roc\",\"cal\"))\nsummary(x)\nplotRisk(x)\nplotROC(x)\nplotCalibration(x) \n\n\nDoes the Steno model outperform the benchmark model in the test data?\n\n\ny &lt;- riskRegression::Score(list(\"Benchmark model\" = bench_model,\n                                \"Steno model\" = steno_model),\n                           data = test,\n                           null.model = TRUE,\n                           formula = cvd_5year~1,\n                           summary = \"risk\",\n                           plots = c(\"roc\",\"cal\"))\nsummary(y)\nplotRisk(y)\nplotROC(y)\nplotCalibration(y) \n\n\nUse any method to make a new risk prediction model and compare it to the Steno model on the test data. Note that the Score function allows you to specify a vector with predicted risks. Here is an example using random forests based on the R-package ranger.\n\n\nlibrary(ranger)\nrf &lt;- ranger(cvd_5year~sex_male + age + diabetes_duration,data = train,\n             probability = TRUE,seed = 9)\npred_ranger &lt;- predict(rf,data = test)$predictions[,2]\nz &lt;- riskRegression::Score(list(\"Benchmark model\" = bench_model,\n                                \"Steno model\" = steno_model,\n                                \"Random forest\" = pred_ranger),\n                           data = test,\n                           null.model = TRUE,\n                           formula = cvd_5year~1,\n                           summary = \"risk\",\n                           plots = c(\"roc\",\"cal\"))\nsummary(z)\nplotRisk(z)\nplotROC(z)\nplotCalibration(z) \n\n\nOnce you have decided on your new risk prediction model, load the deployment dataset and produce predicted probabilities of cvd_5year. Insert them into a new variable in the dataset, save the result\n\n\nvalid &lt;- readRDS(url(\"https://smartbiomed.github.io/causal-prediction-workshop/data/exercises/data/type1-diabetes-deployment.rds\"))\n\nvalid$riskest &lt;- predict(rf, data = valid)$predictions[, 2]\n\nsaveRDS(valid, file = stop(\"replace 'stop(\\\"replace ...\\\")' with a unique team filename ending in .rds\"))\n\n\nSend an email to michael.sachs@sund.ku.dk with the following information:\n\nThe file you just saved as an attachment. It must contain at least the pid and riskest columns.\nThe name of the file that you attached.\nYour team name.\nAn estimate of the AUC of your model from either cross-validation or the test dataset."
  },
  {
    "objectID": "description.html",
    "href": "description.html",
    "title": "Course description",
    "section": "",
    "text": "The development of risk prediction algorithms has exploded in recent years in the medical research literature, yet few of these make their way into routine clinical practice. A primary purpose of prediction models is often stated as being to inform clinical decision making, such as whether to give a treatment to a particular patient. However, it has been shown that prediction models are typically not designed in a way that makes them a valid tool for informing such decisions, in particular because they do not appropriately accommodate the treatment decision at their design stage. Similarly, the evaluation of prediction models does not focus on how well the model would perform for the task of informing clinical decision making. A useful model should be evaluated from the perspective of its intended use and the intended users. Evaluation should consider not only predictive performance, but should also be based on costs and benefits which are defined by the clinical context and the available resources."
  },
  {
    "objectID": "description.html#day-1",
    "href": "description.html#day-1",
    "title": "Course description",
    "section": "Day 1",
    "text": "Day 1\n\nOverview and introduction to risk prediction modeling. Lectures and practical.\nPrediction modeling issues and methods. Lectures and group exercises.\nValidation methods, missing data, time-to-event outcomes, motivating examples.\nIntroduction to causal prediction. Lecture."
  },
  {
    "objectID": "description.html#day-2",
    "href": "description.html#day-2",
    "title": "Course description",
    "section": "Day 2",
    "text": "Day 2\n\nIntroduction to causal inference. Lectures, practical, group exercises.\nCausal graphs, estimands, estimation methods.\nFormalization of causal prediction. Lectures and group exercises.\nWhen non-causal prediction methods fail, causal prediction estimands."
  },
  {
    "objectID": "description.html#day-3",
    "href": "description.html#day-3",
    "title": "Course description",
    "section": "Day 3",
    "text": "Day 3\n\nEstimation of causal prediction models. Lectures and practical.\nAssumptions, adjustment sets and confounding, weighting and standardisation methods, doubly-robust methods.\nEvaluation of causal prediction models. Lectures and practical.\nPerformance metrics and their estimation."
  },
  {
    "objectID": "description.html#day-4",
    "href": "description.html#day-4",
    "title": "Course description",
    "section": "Day 4",
    "text": "Day 4\n\nAdvanced topics. Lectures.\nTime to event outcomes and competing events, time varying treatments and confounding.\nCase studies. Group discussion.\nCase studies continued. Group discussion.\nAdvanced topics continued: clinical utility. Lecture.\nSummary and review. With Q&A."
  },
  {
    "objectID": "materials.html",
    "href": "materials.html",
    "title": "Course materials",
    "section": "",
    "text": "Coming soon!"
  },
  {
    "objectID": "materials.html#morning",
    "href": "materials.html#morning",
    "title": "Course materials",
    "section": "Morning",
    "text": "Morning\n\nLecture 1: Prediction models in medicine, Michael Sachs (pdf)\nLecture 2: Medical risk prediction models, Thomas Gerds (pdf)\nExercise 1: The Steno Risk engine"
  },
  {
    "objectID": "materials.html#afternoon",
    "href": "materials.html#afternoon",
    "title": "Course materials",
    "section": "Afternoon",
    "text": "Afternoon\n\nLecture 3: Obstacles and pitfalls, Thomas Gerds (pdf)\nLecture 4: Learning algorithms and validation, Michael Sachs (pdf)\nExercise 2: Developing and validating your own models\nLecture 5: Introduction to causal prediction, Ruth Keogh (pdf)"
  },
  {
    "objectID": "materials.html#morning-1",
    "href": "materials.html#morning-1",
    "title": "Course materials",
    "section": "Morning",
    "text": "Morning"
  },
  {
    "objectID": "materials.html#afternoon-1",
    "href": "materials.html#afternoon-1",
    "title": "Course materials",
    "section": "Afternoon",
    "text": "Afternoon"
  },
  {
    "objectID": "materials.html#morning-2",
    "href": "materials.html#morning-2",
    "title": "Course materials",
    "section": "Morning",
    "text": "Morning"
  },
  {
    "objectID": "materials.html#afternoon-2",
    "href": "materials.html#afternoon-2",
    "title": "Course materials",
    "section": "Afternoon",
    "text": "Afternoon"
  },
  {
    "objectID": "materials.html#morning-3",
    "href": "materials.html#morning-3",
    "title": "Course materials",
    "section": "Morning",
    "text": "Morning"
  },
  {
    "objectID": "materials.html#afternoon-3",
    "href": "materials.html#afternoon-3",
    "title": "Course materials",
    "section": "Afternoon",
    "text": "Afternoon"
  }
]